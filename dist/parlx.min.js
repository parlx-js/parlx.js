/*!
* parlx.js v1.1 beta 4
* Copyright 2017-2018 Jakub Biesiada
* MIT License
*/
class Parlx{constructor(t,e={}){t.length>0?this.init(t,e):0!==t.length&&(this.element=t,this.settings=this.settings(e),this.parallaxEffect(),this.addEventListeners())}init(t,e){for(let s=0;s<t.length;s++)this.parlx=new Parlx(t[s],e)}addEventListeners(){window.addEventListener("scroll",()=>this.onWindowScroll()),window.addEventListener("resize",()=>this.onWindowResize())}onWindowScroll(){this.parallaxEffect()}onWindowResize(){this.parallaxEffect()}transforms(){"horizontal"===this.settings.direction?(this.moveX=this.movement,this.moveY="0"):"vertical"===this.settings.direction?(this.moveX="0",this.moveY=this.movement):"diagonal"===this.settings.direction&&(this.moveX=this.movement,this.moveY=this.movement),this.transform=`translate(${this.moveX}px, ${this.moveY}px)`}parallaxEffect(){this.element.style.height=this.settings.height;let t=this.element.getBoundingClientRect().y;Math.abs(this.settings.speed)>1&&(this.settings.speed=.3),this.movement=this.settings.speed*t/2,"ontouchstart"in document.documentElement&&!this.settings.mobile&&(this.settings.speed=0),this.transforms(),"foreground"===this.settings.type?Object.assign(this.element.style,{"-webkit-transform":this.transform,transform:this.transform}):"background"===this.settings.type&&Object.assign(this.element.querySelector("img").style,{"-webkit-transform":this.transform,transform:this.transform,width:"auto",height:"auto","min-width":`${this.element.offsetWidth*(1+Math.abs(this.settings.speed))}px`,"min-height":`${this.element.offsetHeight*(1+Math.abs(this.settings.speed))}px`})}settings(t){let e={direction:"vertical",type:"background",speed:.3,height:"400px",mobile:!0},s={};for(let i in e)if(i in t)s[i]=t[i];else if(this.element.getAttribute(`data-${i}`)){let t=this.element.getAttribute(`data-${i}`);try{s[i]=JSON.parse(t)}catch(e){s[i]=t}}else s[i]=e[i];return s}}let autoInit=new Parlx(document.querySelectorAll("[data-parlx]"));if(window.jQuery){window.jQuery.fn.parlx=function(t){new Parlx(this,t)}}"function"==typeof define&&define.amd?define("Parlx",[],function(){return Parlx}):"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=Parlx),exports.default=Parlx);